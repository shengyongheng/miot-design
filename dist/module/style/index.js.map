{"version":3,"names":["mergeWith","React","createContext","useCallback","useContext","useMemo","useRef","defaultTheme","ThemeContext","ThemeProvider","props","value","children","theme","createElement","Provider","customizer","objValue","srcValue","Array","isArray","concat","useTheme","themeStyles","styles","themeStylesMemo","WithTheme","cache","undefined","getStyles","current","Consumer"],"sources":["index.js"],"sourcesContent":["import { mergeWith } from 'lodash';\r\nimport React, {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useRef,\r\n} from 'react';\r\nimport defaultTheme from './themes/default';\r\n\r\nexport const ThemeContext = createContext(defaultTheme);\r\n\r\nexport const ThemeProvider = (props) => {\r\n  const { value, children } = props;\r\n  const theme = useMemo(() => ({ ...defaultTheme, ...value }), [value]);\r\n  return (\r\n    <ThemeContext.Provider value={theme}>{children}</ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nfunction customizer(objValue, srcValue) {\r\n  if (Array.isArray(objValue)) {\r\n    return objValue.concat(srcValue);\r\n  } else {\r\n    return [objValue, srcValue];\r\n  }\r\n}\r\n\r\n// useTheme hook\r\nexport function useTheme(props) {\r\n  const { themeStyles, styles } = props;\r\n\r\n  const theme = useContext(ThemeContext);\r\n\r\n  const themeStylesMemo = useMemo(\r\n    () => mergeWith(themeStyles(theme), styles, customizer),\r\n    // eslint-disable-next-line prettier/prettier\r\n    [styles, theme, themeStyles],\r\n  );\r\n\r\n  return themeStylesMemo;\r\n}\r\n/**\r\n * Component can extends this props\r\n */\r\nexport function WithTheme(props) {\r\n  const { children, themeStyles, styles } = props;\r\n\r\n  const cache = useRef(undefined);\r\n\r\n  const getStyles = useCallback(\r\n    (theme) => {\r\n      if (!cache.current && themeStyles) {\r\n        cache.current = themeStyles(theme);\r\n      }\r\n\r\n      if (cache.current) {\r\n        return mergeWith(cache.current, styles, customizer);\r\n      }\r\n      return styles;\r\n    },\r\n    // eslint-disable-next-line prettier/prettier\r\n    [themeStyles, styles],\r\n  );\r\n\r\n  return (\r\n    <ThemeContext.Consumer>\r\n      {(theme) => children(getStyles(theme), theme)}\r\n    </ThemeContext.Consumer>\r\n  );\r\n}\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,QAAQ;AAClC,OAAOC,KAAK,IACVC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,OAAO,EACPC,MAAM,QACD,OAAO;AACd,OAAOC,YAAY,MAAM,kBAAkB;AAE3C,OAAO,MAAMC,YAAY,gBAAGN,aAAa,CAACK,YAAY,CAAC;AAEvD,OAAO,MAAME,aAAa,GAAIC,KAAK,IAAK;EACtC,MAAM;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAGF,KAAK;EACjC,MAAMG,KAAK,GAAGR,OAAO,CAAC,OAAO;IAAE,GAAGE,YAAY;IAAE,GAAGI;EAAM,CAAC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EACrE,oBACEV,KAAA,CAAAa,aAAA,CAACN,YAAY,CAACO,QAAQ;IAACJ,KAAK,EAAEE;EAAM,GAAED,QAAgC,CAAC;AAE3E,CAAC;AAED,SAASI,UAAUA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EACtC,IAAIC,KAAK,CAACC,OAAO,CAACH,QAAQ,CAAC,EAAE;IAC3B,OAAOA,QAAQ,CAACI,MAAM,CAACH,QAAQ,CAAC;EAClC,CAAC,MAAM;IACL,OAAO,CAACD,QAAQ,EAAEC,QAAQ,CAAC;EAC7B;AACF;;AAEA;AACA,OAAO,SAASI,QAAQA,CAACZ,KAAK,EAAE;EAC9B,MAAM;IAAEa,WAAW;IAAEC;EAAO,CAAC,GAAGd,KAAK;EAErC,MAAMG,KAAK,GAAGT,UAAU,CAACI,YAAY,CAAC;EAEtC,MAAMiB,eAAe,GAAGpB,OAAO,CAC7B,MAAML,SAAS,CAACuB,WAAW,CAACV,KAAK,CAAC,EAAEW,MAAM,EAAER,UAAU,CAAC;EACvD;EACA,CAACQ,MAAM,EAAEX,KAAK,EAAEU,WAAW,CAC7B,CAAC;EAED,OAAOE,eAAe;AACxB;AACA;AACA;AACA;AACA,OAAO,SAASC,SAASA,CAAChB,KAAK,EAAE;EAC/B,MAAM;IAAEE,QAAQ;IAAEW,WAAW;IAAEC;EAAO,CAAC,GAAGd,KAAK;EAE/C,MAAMiB,KAAK,GAAGrB,MAAM,CAACsB,SAAS,CAAC;EAE/B,MAAMC,SAAS,GAAG1B,WAAW,CAC1BU,KAAK,IAAK;IACT,IAAI,CAACc,KAAK,CAACG,OAAO,IAAIP,WAAW,EAAE;MACjCI,KAAK,CAACG,OAAO,GAAGP,WAAW,CAACV,KAAK,CAAC;IACpC;IAEA,IAAIc,KAAK,CAACG,OAAO,EAAE;MACjB,OAAO9B,SAAS,CAAC2B,KAAK,CAACG,OAAO,EAAEN,MAAM,EAAER,UAAU,CAAC;IACrD;IACA,OAAOQ,MAAM;EACf,CAAC;EACD;EACA,CAACD,WAAW,EAAEC,MAAM,CACtB,CAAC;EAED,oBACEvB,KAAA,CAAAa,aAAA,CAACN,YAAY,CAACuB,QAAQ,QAClBlB,KAAK,IAAKD,QAAQ,CAACiB,SAAS,CAAChB,KAAK,CAAC,EAAEA,KAAK,CACvB,CAAC;AAE5B","ignoreList":[]}