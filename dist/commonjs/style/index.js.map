{"version":3,"names":["_lodash","require","_react","_interopRequireWildcard","_default","_interopRequireDefault","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ThemeContext","exports","createContext","defaultTheme","ThemeProvider","props","value","children","theme","useMemo","createElement","Provider","customizer","objValue","srcValue","Array","isArray","concat","useTheme","themeStyles","styles","useContext","themeStylesMemo","mergeWith","WithTheme","cache","useRef","undefined","getStyles","useCallback","current","Consumer"],"sources":["index.js"],"sourcesContent":["import { mergeWith } from 'lodash';\r\nimport React, {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useRef,\r\n} from 'react';\r\nimport defaultTheme from './themes/default';\r\n\r\nexport const ThemeContext = createContext(defaultTheme);\r\n\r\nexport const ThemeProvider = (props) => {\r\n  const { value, children } = props;\r\n  const theme = useMemo(() => ({ ...defaultTheme, ...value }), [value]);\r\n  return (\r\n    <ThemeContext.Provider value={theme}>{children}</ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nfunction customizer(objValue, srcValue) {\r\n  if (Array.isArray(objValue)) {\r\n    return objValue.concat(srcValue);\r\n  } else {\r\n    return [objValue, srcValue];\r\n  }\r\n}\r\n\r\n// useTheme hook\r\nexport function useTheme(props) {\r\n  const { themeStyles, styles } = props;\r\n\r\n  const theme = useContext(ThemeContext);\r\n\r\n  const themeStylesMemo = useMemo(\r\n    () => mergeWith(themeStyles(theme), styles, customizer),\r\n    // eslint-disable-next-line prettier/prettier\r\n    [styles, theme, themeStyles],\r\n  );\r\n\r\n  return themeStylesMemo;\r\n}\r\n/**\r\n * Component can extends this props\r\n */\r\nexport function WithTheme(props) {\r\n  const { children, themeStyles, styles } = props;\r\n\r\n  const cache = useRef(undefined);\r\n\r\n  const getStyles = useCallback(\r\n    (theme) => {\r\n      if (!cache.current && themeStyles) {\r\n        cache.current = themeStyles(theme);\r\n      }\r\n\r\n      if (cache.current) {\r\n        return mergeWith(cache.current, styles, customizer);\r\n      }\r\n      return styles;\r\n    },\r\n    // eslint-disable-next-line prettier/prettier\r\n    [themeStyles, styles],\r\n  );\r\n\r\n  return (\r\n    <ThemeContext.Consumer>\r\n      {(theme) => children(getStyles(theme), theme)}\r\n    </ThemeContext.Consumer>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]}